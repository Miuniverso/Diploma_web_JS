Сервер получает file через XMLHttpRequest.
Сервер отправляет данные через websocket.

Данные: file, полученный ранее и время в 24-часовом формате.
